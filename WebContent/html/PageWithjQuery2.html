<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../js/jquery-3.2.1.js"></script>
<script>
	(function($) {
		$.fn.userToggleClass = function(className) {
			return this.each(function() {
				var $ele = $(this);
				if ($ele.hasClass(className)) {
					$ele.removeClass(className);
				} else {
					$ele.addClass(className);
				}
			});
		}
	})(jQuery);
	
	$(function() {
		$("div").userToggleClass("test");
		$("#colorChangeButton").on("click", function() {
			$("div").userToggleClass("test").css({color:"hotpink"});//userToggleClass가 this 객체!!를 리턴했기때문에 뒤에 .으로 더 이어서 붙일 수 있다. 함수 체이닝
		});
	});
	
	//$(this).toggleClass("bar")
	//this.classList.toggle("bar");
	
</script>
<style>
div.test {
	background-color: lightgreen;
}
</style>
</head>
<body>
	<div>div</div>
	<div class="test">div class="test"</div>
	<div>div2</div>
	<input type="button" value="색 변경" id="colorChangeButton" />
</body>
</html>